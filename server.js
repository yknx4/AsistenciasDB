////HACK
Array.prototype.contains = function (element) {
    return this.indexOf(element) > -1;
};
////---HACK

////VARIABLES
var db = GLOBAL.db;

var Route = require('./model/collection');
var RouteDocument = require('./model/document');

var ProtectedRoutes = {
    all: ['/token', '/token/:id','/system.indexes','/system.indexes/:id'],
    get: [],
    post: ['/user','/user/:id'],
    put:['/user','/user/:id'],
    del:['/user','/user/:id']
}
var routes_helper = require('./routes_helper');

////----VARIABLES




var restify = require('restify'),
    constants = require('./constants');

var server = restify.createServer({
    name: 'Attendances',
    version: '1.0.0'
});


server.use(restify.acceptParser(server.acceptable));
server.use(restify.queryParser());
server.use(restify.bodyParser());
server.use(function (req, res, next) {
    req.secretsalt = constants.secret;
    res.header("Access-Control-Allow-Origin", "*");
    res.header("Access-Control-Allow-Headers", "Origin, X-Requested-With, Content-Type, Accept");
    res.header('Access-Control-Allow-Methods', '*');
    next();
});
restify.CORS.ALLOW_HEADERS.push('sid');
server.use(restify.CORS());
server.use(restify.fullResponse());
server.use(routes_helper.check_token);



//server.get("/addcollection/:name", function (req, res) {
//    if(typeof req.params.name === 'undefined'){
//        res.send(400,'Collection name invalid');
//    }
//    var collection = db.collection(req.params.name);
//        res.send(201);
//
//});
server.get("/echo/:echo", function (req, res) {
    // var multijson = "[ { \"name\": \"Susana Yalith Gonzales Nava\", \"account\": 20064183, \"school\": \"Facultad de Medicina\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Siria Alejandra Gonzales Obispo\", \"account\": 20084514, \"school\": \"Facultad de Arquitectura y Dise\u00F1o\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Marck Patricks Guzman Avina\", \"account\": 20094316, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Luz Elisa Ruiz Orozco\", \"account\": 20094427, \"school\": \"Fac. Medicina\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Mariana Alejandra Preciado Martinez\", \"account\": 20094476, \"school\": \"Facultad de Psicologia\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Maria Elena Sepulveda Galvan\", \"account\": 20094518, \"school\": \"Facultad de Lenguas\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Eduardo Montero Gonzales\", \"account\": 20094556, \"school\": \"Facultad de Medicina\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Magnolia Paola Mendoza Saucedo\", \"account\": 20094610, \"school\": \"Fac. Medicina\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Teresa elizabeth cobian garcia\", \"account\": 20094821, \"school\": \"Facultad de Telematica\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Jorge Figueroa Perez\", \"account\": 20094894, \"school\": \"Facultad de Telematica\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Zulema Mayanin Ibarra Garza\", \"account\": 20095114, \"school\": \"Fac. Comunicacion\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Francisco Javier Gutierrez Mondragon\", \"account\": 20095127, \"school\": \"Facultad de Telematica\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Hector Mauricio Jimenez Leal\", \"account\": 20095130, \"school\": \"Facultad de Telematica\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Osvaldo Jesus Angulo Espinosa\", \"account\": 20096932, \"school\": \"Facultad de Telematica\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Dulce Maria Velasco Davila\", \"account\": 20097030, \"school\": \"Facultad de Arquitectura y Dise\u00F1o\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Rebeca Arellano Torres\", \"account\": 20104513, \"school\": \"Facultad de Arquitectura y DIse\u00F1o\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Ricardo Alexis Cernas Escobar\", \"account\": 20104542, \"school\": \"Facultad de Ingenieria Civil\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Susana Garcia Bermudez\", \"account\": 20104590, \"school\": \"Facultad de Letras y Comunicaci\u00F3n\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Erwin Bryant Hernandez Venegas\", \"account\": 20104621, \"school\": \"Facultad de Derecho\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Juan Manuel Herrera Zamora\", \"account\": 20104623, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Berenice Jazmin Llanos Vargas\", \"account\": 20104638, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Yunuen Ameyalli Montalvan Gutierrez\", \"account\": 20104668, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Mitzi Gizel Perez Rebolledo\", \"account\": 20104699, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Katia Daniela Diaz Vega\", \"account\": 20105049, \"school\": \"Bachillerato 16\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Claudia Isabeles Ortega\", \"account\": 20105110, \"school\": \"Bachillerato 16\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": 0, \"account\": 20105539, \"school\": \"Facultad de Ciencias Quimicas\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Maria Guadalupe Arreola Rebolledo\", \"account\": 20106426, \"school\": \"Bachillerato 2\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Angel Mario Barajas Amaya\", \"account\": 20106841, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Carmen Ireri Sepulveda Galvan\", \"account\": 20107402, \"school\": \"Facultad de Lenguas\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Luis Fernando Puentes Ramos\", \"account\": 20107948, \"school\": \"Fac. Psicologia\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Gustavo Lopez Llamas\", \"account\": 20107975, \"school\": \"Facultad de Telematica\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Grecia Mariana Avi\u00F1a Araiza\", \"account\": 20114118, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Jazmin Arleth Bermudez Ponce\", \"account\": 20114541, \"school\": \"Facultad de Ciencias Pol\u00EDticas y Sociales\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Veronica Elizabeth Morales Amaya\", \"account\": 20114664, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Edgar Agustin Ramirez Campos\", \"account\": 20114710, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Eduardo Nahim Rios Larios\", \"account\": 20114723, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Guillermo Rodriguez Barajas\", \"account\": 20114728, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Gilberto Ignacio Rodriguez Mojica\", \"account\": 20114733, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Karla Alejandra Carrilo Venegas\", \"account\": 20115002, \"school\": \"Bachillerato 16\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Krishna Sarai Perez Cortez\", \"account\": 20120212, \"school\": \"Facultad de Arquitectura y Dise\u00F1o\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Diana Aracely Arismendi Segura\", \"account\": 20124114, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Grecia Mariana Avi\u00F1a Araiza\", \"account\": 20124118, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Bryan Alberto Corona Cornejo\", \"account\": 20124152, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Jose Ramon Delgado Moreno\", \"account\": 20124158, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Rodrigo Diaz Crotte\", \"account\": 20124159, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Alejandro Ferraez Gonzalez\", \"account\": 20124168, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Mauricio Bladimir Gonzales Andrade\", \"account\": 20124184, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Rabindranath Luna Rios\", \"account\": 20124227, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Patricia Martinez Flores\", \"account\": 20124234, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Lorena Peralta Escamilla\", \"account\": 20124275, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Felipe De Jesus Rolon Lopez\", \"account\": 20124311, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Daniela Santiba\u00F1ez Lomeli\", \"account\": 20124321, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Sunashi Elizabeth Vasquez Arceo\", \"account\": 20124347, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Asseneth Velasquez Calabrese\", \"account\": 20124359, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Cristian Alexis Mantilla Rodriguez\", \"account\": 20124694, \"school\": \"Bachillerato 16\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Jose Daniel Mejia\", \"account\": 20124699, \"school\": \"Bachillerato 16\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Alondra Jimena Rodriguez Hermenejilda\", \"account\": 20124767, \"school\": \"Bachillerato 16\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Esteban Obed Garcia Negrete\", \"account\": 20126131, \"school\": \"Bachillerato 1\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Itzel Marisol Orozco Garcia\", \"account\": 20124266, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Danahe Elizabeth Garcia Ramirez\", \"account\": 20094623, \"school\": \"Facultad de Ciencias\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Diana Teresa Garc\u00EDa Ponce\", \"account\": 20136144, \"school\": \"Bachillerato 1\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Morelia Trujillo Michel\", \"account\": 20136348, \"school\": \"Bachillerato 1\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Samanta Lizette Vazquez Marquez\", \"account\": 20145742, \"school\": \"Bachillerato 16\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Andres Eduardo Mora Alonso\", \"account\": 20134281, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Jose Marcelino Radillo Figueroa\", \"account\": 20134754, \"school\": \"Bachillerato 16\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Carlos Alberto Perez Vazquez\", \"account\": 20134318, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Adalberto Rol\u00F3n Orozco\", \"account\": 20144708, \"school\": \"Bachillerato 16\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Aida Lizbeth Carrillo Ventura\", \"account\": 20144542, \"school\": \"Bachillerato 16\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Abril Sarahi Lopez Perez\", \"account\": 20144228, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Alonda Dali Bernal Barrera\", \"account\": 20144529, \"school\": \"Bachillerato 16\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Guadalupe Montes Martinez\", \"account\": 20147195, \"school\": \"Bachillerato 16\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Ana Isabel Arechiga Lopez\", \"account\": 20146016, \"school\": \"Bachillerato 1\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Laura Isabel Marcial Anguiano\", \"account\": 20147181, \"school\": \"Bachillerato 15\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Natalia Liviette Marquez Hurtado\", \"account\": 20096618, \"school\": \"Facultad de Psicolog\u00EDa\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Rogelio Eduardo Naranjo Aguilar\", \"account\": 20107552, \"school\": \"Facultad de Mercadotecnia\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Carolina Lopez Ortega Aceves\", \"account\": 20124223, \"school\": \"Bachillerato T\u00E9cnico 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Miriam Hernadez Lopez\", \"account\": 20137115, \"school\": \"Bachillerato T\u00E9cnico 30\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Omar Salvador Gutierrez Zamora\", \"account\": 20127807, \"school\": \"Facultad de Telematica\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Samanta Lizette Vazquez Marquez\", \"account\": 20144752, \"school\": \"Bachillerato t\u00E9cnico no. 16\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Margarita del Carmen Guerrero Mancilla\", \"account\": 20134212, \"school\": \"Bachillerato t\u00E9cnico no. 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Perla Carmina Velasco Velasco\", \"account\": 20145057, \"school\": \"Bachillerato T\u00E9cnico no. 17\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Alexis Alfaro Ochoa\", \"account\": 20137785, \"school\": \"Facultad de Telem\u00E1tica\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Marelene Estefan\u00EDa Fajardo Pineda\", \"account\": 20145201, \"school\": \"Facultad de Lenguas Extranjeras\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Veronica Wenjudith Alvarado Jimenez\", \"account\": 20144106, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Carlos Miguel Mendoza Hurtado\", \"account\": 20130307, \"school\": \"Facultad de Ingenier\u00EDa Mec\u00E1nica y Electrica\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Karla Yunnue Vivas Rosales\", \"account\": 20144337, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Jennifer Tracey Valencia\", \"account\": 20144746, \"school\": \"Bachillerato16\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Viridiana Estefania Gutierrez Gonzalez\", \"account\": 20096109, \"school\": \"Facultad de Pedagogia\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Fernando Osuna L\u00F3pez\", \"account\": 20101077, \"school\": \"Facultad de Ciencias Qu\u00EDmicas\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Luis Antonio Chavez Ceballos\", \"account\": 20095097, \"school\": \"Facultad de Telematica\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Jorge Alejandro Rosas Sanchez\", \"account\": 20104733, \"school\": \"Facultad de Telematica\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Edgar Antonio Guerrero Leon\", \"account\": 20115075, \"school\": \"Facultad de Telematica\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Francisco Javier Gutierrez Mondrag\u00F3n\", \"account\": 20095117, \"school\": \"Facultad de Telem\u00E1tica\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Jose Alberto Mendoza Basilio\", \"account\": 20119669, \"school\": \"Facultad de Telem\u00E1tica\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Lizeth Guadalupe Maldonado N\u00FA\u00F1ez\", \"account\": 20147384, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Yoselinne Cadena Gonz\u00E1lez\", \"account\": 20114997, \"school\": \"Facultad de lenguas\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Carlos Gabriel Batista Vel\u00E1zquez\", \"account\": 20146364, \"school\": \"Bachillerato 2\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Luis Ernesto Rodr\u00EDguez L\u00F3pez\", \"account\": 20144703, \"school\": \"Bachillerato 16\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Gustavo Sa\u00FAl Acevedo Gudi\u00F1o\", \"account\": 20124545, \"school\": \"Bachillerato 16\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Juan Alberto Olivera Cueva\", \"account\": 20126627, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Ra\u00FAl Jr. Zaraz\u00FAa Espinoza\", \"account\": 20144764, \"school\": \"Bachillerato 16\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Jos\u00E9 Mart\u00EDn Pazcual Ch\u00E1vez\", \"account\": 20126638, \"school\": \"Bachillerato 17\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Oyuki Guadalupe S\u00E1nchez Romero\", \"account\": 20144725, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Miguel Gonz\u00E1lez Calvario\", \"account\": 20146466, \"school\": \"Bachillerato 2\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Karla Elizabeth Mart\u00EDnez G\u00F3mez\", \"account\": 20105323, \"school\": \"Facultad de ciencias de la educaci\u00F3n\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Patricia Elena Valadez Olvera\", \"account\": 20127848, \"school\": \"Artes Visuales\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Kitzia Mier Rodr\u00EDguez\", \"account\": 20086418, \"school\": \"Facultad de Psicolog\u00EDa\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Vicente Emmanuel Radillo Figuero\", \"account\": 20105195, \"school\": \"Facultad de Telem\u00E1tica\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Jos\u00E9 Jes\u00FAs Mujica\", \"account\": 20146536, \"school\": \"Bachillerato 2\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Jonathan Ibekwe Tochukwu\", \"account\": 20149807, \"school\": \"Facultad de Telem\u00E1tica\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Armando Emanuel Herrera Rodr\u00EDguez\", \"account\": 20136579, \"school\": \"Bachillerato 2\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Jorge Armando Hern\u00E1ndez Casta\u00F1eda\", \"account\": 20137801, \"school\": \"Facultad de Telem\u00E1tica\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Ilse Magaly Pelayo Contreras\", \"account\": 20081561, \"school\": \"Facultad de medicina\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"\u00C1ngel Primitivo Vejar Cort\u00E9s\", \"account\": 20124353, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Daniela G\u00F3mez Qui\u00F1ones\", \"account\": 20134202, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Paola Rebeca Lopez Dias\", \"account\": 20148045, \"school\": \"Bachillerato 3\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Jimena Santiba\u00F1ez Lomel\u00ED\", \"account\": 20134365, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Diana Laura Saucedo Isunza\", \"account\": 20124793, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Amalia Alejandra Soto Ramos\", \"account\": 20124798, \"school\": \"Bachillerato 16\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Karla Paulette Flores Silva\", \"account\": 20124174, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Jennifer Mar\u00EDa Hoyos\", \"account\": 20124204, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Dayana Llerenas Guzm\u00E1n\", \"account\": 20134237, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Claudia Vanessa Malta Ramos\", \"account\": 20116803, \"school\": \"Bachillerato 16\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Ricardo de Jes\u00FAs Partida Nu\u00F1ez\", \"account\": 20134309, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Andrea Montserrat Maga\u00F1a Ibarra\", \"account\": 20134261, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Jorge Mauricio Reyes Ramirez\", \"account\": 20134336, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Jesus Mart\u00EDn Preciado Blanco\", \"account\": 20134323, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Erick Roberto Lopez Corona\", \"account\": 20134239, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Jose Luis Garza Gallegos\", \"account\": 20094494, \"school\": \"Facultad de Telem\u00E1tica\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Kevin Roberto G\u00F3mez Peralta\", \"account\": 20095113, \"school\": \"Facultad de Telem\u00E1tica\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Fernando Michel Baltazar\", \"account\": 20124245, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Mara Paola Velasco Velasco\", \"account\": 20134389, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Ang\u00E9lica Lizbeth Garc\u00EDa Salazar\", \"account\": 20134199, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Alejandro San Luis Larrinua\", \"account\": 20134359, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Alvaro Amador Santa Ana\", \"account\": 20136018, \"school\": \"Bachillerato 1\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Jose Luis De la Vega Velasco\", \"account\": 20124156, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Carlos Alfredo Far\u00EDas Castillo\", \"account\": 20134182, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Jesus Madrigal Paz\", \"account\": 20134259, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Jose Javier Balderrama Casillas\", \"account\": 20134137, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Karla Estefan\u00EDa Tovar Rodriguez\", \"account\": 20116955, \"school\": \"Bachillerato 16\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Aylin Amairan Hernandez Reyes\", \"account\": 20104620, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Maria Fernanda Brizuela Pe\u00F1a\", \"account\": 20114996, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Paola Fernanda Casta\u00F1eda Gonzales\", \"account\": 20134153, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Francisco Castellanos Far\u00EDas\", \"account\": 20115004, \"school\": \"Bachillerato 16\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Jose Daniel Venegaz Brice\u00F1o\", \"account\": 20134390, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Felipe Aldair Contreras Jimenez\", \"account\": 20124150, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Alejandra Montserrat Morales Amaya\", \"account\": 20083621, \"school\": \"Facultad de Ciencias Qu\u00EDmicas\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Guillermo Jafeth Pacheco Rosales\", \"account\": 20134305, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Mariana Amador Santa Ana\", \"account\": 20114515, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Angel Ramon Ochoa Romero\", \"account\": 20134294, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Kevin Efren Galvan Perez\", \"account\": 20124627, \"school\": \"Bachillerato 16\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Efrain Osmar Villalvazo Michel\", \"account\": 20105490, \"school\": \"Facultad de Ingenierie Civil\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Carmen Alejandra Rodriguez Mayoral\", \"account\": 20134347, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Maria Fernanda Perez Maga\u00F1a\", \"account\": 20134738, \"school\": \"Bachillerato 16\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Alicia Morones Catarino\", \"account\": 20134718, \"school\": \"Bachillerato 16\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Karla Sofia Aguayo Castillo\", \"account\": 20134547, \"school\": \"Bachillerato 16\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Fabiola Lisset De la Cruz Luna\", \"account\": 20124155, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Sandra Julieta Ibarra Palacios\", \"account\": 20104625, \"school\": \"Bachillerato 18\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Josue Benjamin Diaz Preciado\", \"account\": 20134612, \"school\": \"Bachillerato 16\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Angel Espinoza Cervantes\", \"account\": 20134181, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Nereida Martinez De la Cruz\", \"account\": 20134700, \"school\": \"Bachillerato 16\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Tania Samantha Rosas Cervantes\", \"account\": 20134784, \"school\": \"Bachillerato 16\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Manuel Alejandro Morales Viera\", \"account\": 20124251, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Carlos Octavio Villalpando Vargas\", \"account\": 20124373, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Dar\u00EDo Chaires Arciniega\", \"account\": 20124145, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Karla Karina Pinto Gutierrez\", \"account\": 20124283, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Eduardo Juarez Sanchez\", \"account\": 20137947, \"school\": \"Bachillerato 3\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Jorge Humberto Ramirez Bonifaz\", \"account\": 20124287, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Daniela Giselle Rodriguez Batista\", \"account\": 20134345, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Andrea Guadalupe Rodriguez Batista\", \"account\": 20114729, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Yolanda Guadalupe Velazco Mej\u00EDa\", \"account\": 20135159, \"school\": \"Bachillerato 17\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Mariana Andrade Centeno\", \"account\": 20107439, \"school\": \"Facultad de Contabilidad\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Jes\u00FAs Ulises Isais Rivas\", \"account\": 20137610, \"school\": \"Facultad de Contabilidad\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Sim\u00F3n Eleazar Rivas\", \"account\": 20097804, \"school\": \"Facultad de Ciencias Pol\u00EDticas\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Jonathan Guadalupe Mora Garc\u00EDa\", \"account\": 20100666, \"school\": \"Facultad de Ciencias Pol\u00EDticas\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Luis Alfonso Moreno Ochoa\", \"account\": 20121871, \"school\": \"Escuela de Comercio Exterior\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Jazm\u00EDn Gricelda Gutierrez Brice\u00F1o\", \"account\": 20107516, \"school\": \"Escuela de Comercio Exterior\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Gibran David Reyes\", \"account\": 20134337, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Diego Aar\u00F3n Figueroa Campos\", \"account\": 20134625, \"school\": \"Bachillerato 16\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Yair Antonio Castillo Castillo\", \"account\": 20124140, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Harold Vladimir Rivas Estrada\", \"account\": 20137616, \"school\": \"Facultad de Contabilidad y Administraci\u00F3n\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Diana Laura Sanchez Perea\", \"account\": 20101385, \"school\": \"Facultad de Derecho\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Alma Selene Venegas Herrera\", \"account\": 20136377, \"school\": \"Bachillerato 1\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Emmanuel Mendez Lavenant\", \"account\": 20134707, \"school\": \"Bachillerato 16\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Vania Sina\'i Velasco Martinez\", \"account\": 20135962, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Jaime Daniel Hernandez Palacios\", \"account\": 20126160, \"school\": \"Bachillerato 1\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Ana Margarita Morones Catarino\", \"account\": 20124712, \"school\": \"Bachilerato 16\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Jose Antonio Torres Magallanes\", \"account\": 20094513, \"school\": \"Facultad de Medicina\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Jose Rafael Martinez Pe\u00F1a\", \"account\": 20104654, \"school\": \"Facultad de Medicina\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Michell Ivan Cazares Martinez\", \"account\": 20136460, \"school\": \"Bachillerato 2\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Luis Angel Delgadillo Franco\", \"account\": 20137778, \"school\": \"Facultad de Ciencias\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Edson Moises Franco Barajas\", \"account\": 20134188, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Miriam Rub\u00ED Rodriguez Alejandrez\", \"account\": 20134342, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Paulina Del Rosario Mungu\u00EDa Hernandez\", \"account\": 20136648, \"school\": \"Bachillerato 2\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Jose Raul Aguilar Velazco\", \"account\": 20134111, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Gerardo Manuel Chavez Larios\", \"account\": 20136471, \"school\": \"Bachillerato t\u00E9cnico no. 2\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Humberto Martell Alcala\", \"account\": 20136618, \"school\": \"Bachillerato t\u00E9cnico no. 2\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Luis Carlos Gaspar Flores\", \"account\": 20134200, \"school\": \"Bachillerato t\u00E9cnico no. 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Nathalie Yuritzi Montelongo Noriega\", \"account\": 20085190, \"school\": \"Facultad de Ciencias Qu\u00EDmicas\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Janiel Idar\u00ED Alvarez Sanchez\", \"account\": 20124108, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Sergio Adri\u00E1n Calvario Anguiano\", \"account\": 20124132, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Edwin Salom\u00F3n Martinez Ventura\", \"account\": 20124239, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Oswaldo Lopez Herrera\", \"account\": 20134243, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Alejandro Aguilar Anguiano\", \"account\": 20095202, \"school\": \"Facultad de Telem\u00E1tica\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Alan Galv\u00E1n Hernandez\", \"account\": 20124175, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Kenia Guerreo Arroyo\", \"account\": 20081431, \"school\": \"Facultad de Derecho\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Juan Miguel Lopez Alcaras\", \"account\": 20107530, \"school\": \"Facultad de Econom\u00EDa\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Brenda Martinez Castellanos\", \"account\": 20081410, \"school\": \"Facultad de Ingenier\u00EDa\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Rub\u00ED Lomel\u00ED del Castillo\", \"account\": 20126556, \"school\": \"Bachillerato 2\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Irving Paul Far\u00EDas Sosa\", \"account\": 20137795, \"school\": \"Facultad de Telem\u00E1tica\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Andres Gerardo Fuentes S\u00E1nchez\", \"account\": 20075127, \"school\": \"Facultad de Telem\u00E1tica\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Pedro Jos\u00E9 Gutierrez Figueroa\", \"account\": 20081517, \"school\": \"Facultad de Ingenier\u00EDa Electromec\u00E1nica\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Alexia Ixhel Estrada Adame\", \"account\": 20105972, \"school\": \"Facultad de Lenguas Extranjeras\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Mariana Burguette Cuevas\", \"account\": 20147318, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Mariana Covarrubias Zamora\", \"account\": 20144152, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Mariana Avila Vazquez\", \"account\": 20144116, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Nazleth Guadalupe Aguilar Lopez\", \"account\": 20144102, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Litzi Anahi Guzman De la mora\", \"account\": 20144202, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Ayartza Lopez Perez\", \"account\": 20144229, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Maria Conchita Rodriguez Oceguera\", \"account\": 20144300, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Vivian Geraldinne Garcia Chavez\", \"account\": 20144578, \"school\": \"Bachillerato 16\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Zyanya Marcela Herrera Puente\", \"account\": 20144211, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Alfredo de Jes\u00FAs Jimenez Castillo\", \"account\": 20105115, \"school\": \"Facultad de Enfermer\u00EDa\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Leonardo Gamboa Quero\", \"account\": 20105069, \"school\": \"Facultad de Enfermer\u00EDa\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Edna Isabel Martinez Gomez\", \"account\": 20106619, \"school\": \"Facultad de Telem\u00E1tica\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Pablo Antonio Ornelas Moreno\", \"account\": 20105327, \"school\": \"Facultad de Enfemer\u00EDa\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Luis Enrique Vergara Garc\u00EDa\", \"account\": 20104781, \"school\": \"Facultad de Enfemer\u00EDa\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Alfreo Adan Garc\u00EDa Aguayo\", \"account\": 20146457, \"school\": \"Bachillerato 2\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Roger Sanchez Nava\", \"account\": 20144309, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Jose Francisco Gutierrez Fraga\", \"account\": 20146841, \"school\": \"Bachillerato 3\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Diana Ivonne Lopez Mendez\", \"account\": 20146871, \"school\": \"Bachillerato 16\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Paula Rebeca Lopez Dias\", \"account\": 20148046, \"school\": \"Bachillerato 3\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Daniela Gomez Qui\u00F1ones\", \"account\": 20134203, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Metzli Viridiana Alcala Guillen\", \"account\": 20154860, \"school\": \"Bachillerato 16\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Deneb Alexandra Gutierrez Rodriguez\", \"account\": 20154457, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Obed Alejandro Maga\u00F1a Chavez\", \"account\": 20154504, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Omar Luna Rios\", \"account\": 20154499, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Esteban Hernandez Anguiano\", \"account\": 20150738, \"school\": \"FIME\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Alejandra Perez Gomez\", \"account\": 20134315, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Melisa Paola Chavez Rodriguez\", \"account\": 20125331, \"school\": \"Bachillerato 2\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Hector Gerardo Cebrera Gutierrez\", \"account\": 20149736, \"school\": \"Bachillerato 2\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Angeles Adriana Rojas Lopez\", \"account\": 20154602, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Ximena Gonzalez Ceballos\", \"account\": 20154434, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Juan David Fonseca Caceres\", \"account\": 20157177, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Saraisela Tellez Enciso\", \"account\": 20147036, \"school\": \"Bachillerato 3\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Leamsi Jaqueline Ruiz Cobi\u00E1n\", \"account\": 20154369, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Janeth Paola Carbajal Alvarez\", \"account\": 20124576, \"school\": \"Facultad de Mercadotecnia\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Mario Abel Tapia Gutierrez\", \"account\": 20094942, \"school\": \"Facultad de Telem\u00E1tica\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Luis Angel Toral de la Mora\", \"account\": 20125330, \"school\": \"Facultad de lenguas\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"V\u00EDctor Manuel China L\u00F3pez\", \"account\": 20129572, \"school\": \"Facultad de Psicolog\u00EDa\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Guadalupe Anah\u00ED Baltazar Devia\", \"account\": 20096367, \"school\": \"Facultad de Psicolog\u00EDa\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Carlos Eduardo de la Mora Perea\", \"account\": 20081900, \"school\": \"Facultad de Psicolog\u00EDa\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Cristian Alejandro Velasco Cernas\", \"account\": 20157079, \"school\": \"Bachillerato 2\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Julio Alejandro Navarro Delgadillo\", \"account\": 20155035, \"school\": \"Bachillerato 16\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Carlos Octavio Baltazar Figueroa\", \"account\": 20146361, \"school\": \"Bachillerato 2\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Esmeralda Elizabeth Santoyo Morales\", \"account\": 20150747, \"school\": \"FIME\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Jorge Emiliano De Anda Zamora\", \"account\": 20144154, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Gabriela Hern\u00E1ndez P\u00E9rez\", \"account\": 20134224, \"school\": \"Bachillerato 4\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 }, { \"name\": \"Yamilet Sarahi Malta Garc\u00EDa\", \"account\": 20155664, \"school\": \"Faculltad de Lenguas\", \"email\": 0, \"modified\": 1442809700444, \"created\": 1442809700444 } ]";
    res.send(req.params.echo);
    //  GLOBAL.db.collection('student').insert(JSON.parse(multijson), function (err, resp) {
    //     if (err) res.send(500, err);
    //     else res.send(201, resp);
    // })

});



function addRoute(route) {
    console.log("Adding: " + route.route);
    if (typeof route.get !== "undefined") {
        var func_params = [route.route];
        if(ProtectedRoutes.all.contains(route.route) || ProtectedRoutes.get.contains(route.route)){
            console.log("\nProtected [Master]");
            route.protected.push('get');
        }
        server.get.apply(server, func_params.concat(route.get()));
        console.log("GET");
    }
    if (typeof route.post !== "undefined") {
        var func_params = [route.route];
        if(ProtectedRoutes.all.contains(route.route) || ProtectedRoutes.post.contains(route.route)){
            console.log("\nProtected [Master]");
            route.protected.push('post');
        }
        server.post.apply(server, func_params.concat(route.post()));
        console.log("POST");
    }
    if (typeof route.put !== "undefined") {
        var func_params = [route.route];
        if(ProtectedRoutes.all.contains(route.route) || ProtectedRoutes.put.contains(route.route)){
            console.log("\nProtected [Master]");
            route.protected.push('put');
        }
        server.put.apply(server, func_params.concat(route.put()));
        console.log("PUT");
    }
    if (typeof route.del !== "undefined") {
        var func_params = [route.route];
        if(ProtectedRoutes.all.contains(route.route) || ProtectedRoutes.del.contains(route.route)){
            console.log("\nProtected [Master]");
            route.protected.push('del');
        }
        server.del.apply(server, func_params.concat(route.del()));
        console.log("DELETE");
    }

}

var login = require('./routes/auth');
addRoute(login);
db.getCollectionNames(function (err, collections) {
    if (err) return console.log(err);
    console.log(collections);
    collections.forEach(function (col) {
        console.log("Generating route for: " + col);
        var route = new Route(col);
        addRoute(route);
        var document_route = new RouteDocument(col);
        addRoute(document_route);
        console.log("\n");
    });
});



module.exports = server;
